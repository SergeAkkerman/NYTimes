{"ast":null,"code":"import _classCallCheck from\"/Users/sergey/Desktop/LinkUp_React_Final/my-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/sergey/Desktop/LinkUp_React_Final/my-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/sergey/Desktop/LinkUp_React_Final/my-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/sergey/Desktop/LinkUp_React_Final/my-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/sergey/Desktop/LinkUp_React_Final/my-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React from'react';import fire from'./config/Fire';var Profile=/*#__PURE__*/function(_React$Component){_inherits(Profile,_React$Component);var _super=_createSuper(Profile);function Profile(props){var _this;_classCallCheck(this,Profile);_this=_super.call(this,props);_this.logout=function(){fire.auth().signOut();window.location.reload();};_this.state={avatar_link:'',user_name:''};_this.Greeting=_this.Greeting.bind(_assertThisInitialized(_this));return _this;}_createClass(Profile,[{key:\"componentDidMount\",value:function componentDidMount(){this.nameAndAvatar();}},{key:\"authListener\",// listening if user is logged in\nvalue:function authListener(){var _this2=this;fire.auth().onAuthStateChanged(function(user){if(user){_this2.setState({user:user});}else{_this2.setState({user:null});}});}// show name and avatar\n},{key:\"nameAndAvatar\",value:function nameAndAvatar(){var _this3=this;var defaultAvatar='https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/React-icon.svg/1200px-React-icon.svg.png';var userId=fire.auth().currentUser.uid;var AvaLink=fire.database().ref('/users/'+userId).once('value').then(function(snapshot){var databaseAvatarLink=snapshot.val()&&snapshot.val().avatar_link||'';var databaseName=snapshot.val()&&snapshot.val().user_name||'';databaseAvatarLink?_this3.setState({avatar_link:databaseAvatarLink.toString()}):_this3.setState({avatar_link:defaultAvatar});databaseName&&_this3.setState({user_name:databaseName.toString()});});}// change avatar\n},{key:\"setAvatarLink\",value:function setAvatarLink(){var uid=fire.auth().currentUser.uid;var userAvatarLink=prompt('Link to your avatar');userAvatarLink&&fire.database().ref('users/'+uid).update({avatar_link:userAvatarLink});this.nameAndAvatar();}},{key:\"ChangeName\",// change mane\nvalue:function ChangeName(){var uid=fire.auth().currentUser.uid;var userName=prompt('Your name');userName&&fire.database().ref('users/'+uid).update({user_name:userName});this.nameAndAvatar();}},{key:\"Greeting\",value:function Greeting(){return this.state.user_name&&/*#__PURE__*/_jsxs(\"h1\",{children:[\"\\u041F\\u0440\\u0438\\u0432\\u0456\\u0442, \",this.state.user_name]});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[this.Greeting(),/*#__PURE__*/_jsx(\"img\",{style:{maxHeight:'10vw',padding:'2vw'},src:this.state.avatar_link}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{style:{margin:'0.5vw'},onClick:this.logout,children:\"Logout\"}),/*#__PURE__*/_jsx(\"button\",{style:{margin:'0.5vw'},onClick:this.setAvatarLink.bind(this),children:\"Change Avatar\"}),/*#__PURE__*/_jsx(\"button\",{style:{margin:'0.5vw'},onClick:this.ChangeName.bind(this),children:\"What is your name?\"})]})]});}}]);return Profile;}(React.Component);export default Profile;","map":{"version":3,"sources":["/Users/sergey/Desktop/LinkUp_React_Final/my-app/src/Profile.js"],"names":["React","fire","Profile","props","logout","auth","signOut","window","location","reload","state","avatar_link","user_name","Greeting","bind","nameAndAvatar","onAuthStateChanged","user","setState","defaultAvatar","userId","currentUser","uid","AvaLink","database","ref","once","then","snapshot","databaseAvatarLink","val","databaseName","toString","userAvatarLink","prompt","update","userName","textAlign","maxHeight","padding","margin","setAvatarLink","ChangeName","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport fire from './config/Fire';\n\nclass Profile extends React.Component {\n\nconstructor(props) {\nsuper(props);\nthis.state = {\navatar_link: '',\nuser_name: '', \n};\nthis.Greeting =this.Greeting.bind(this);\n}\n\ncomponentDidMount() {\nthis.nameAndAvatar();\n}\n\nlogout = () => {\nfire.auth().signOut();\nwindow.location.reload();\n}\n\n// listening if user is logged in\nauthListener() {\n  fire.auth().onAuthStateChanged((user) => {\n    if (user) {\n      this.setState({ user });\n    } else {\n      this.setState({ user: null });\n    }\n  })\n}\n\n// show name and avatar\nnameAndAvatar(){\n    const defaultAvatar = 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/React-icon.svg/1200px-React-icon.svg.png'\n    const userId = fire.auth().currentUser.uid;\n    const AvaLink = fire.database().ref('/users/' + userId).once('value').then((snapshot) => {\n    const databaseAvatarLink = (snapshot.val() && snapshot.val().avatar_link) || '';\n    const databaseName = (snapshot.val() && snapshot.val().user_name) || '';\n    databaseAvatarLink ? (this.setState({avatar_link: databaseAvatarLink.toString()})) : (this.setState({avatar_link: defaultAvatar})); \n    databaseName && this.setState({user_name: databaseName.toString()});\n    });\n    }\n\n// change avatar\nsetAvatarLink() {\n    const uid = fire.auth().currentUser.uid;\n    const userAvatarLink = prompt('Link to your avatar');\n    userAvatarLink && fire.database().ref('users/' + uid).update({avatar_link: userAvatarLink})\n    this.nameAndAvatar();      \n    };\n\n// change mane\nChangeName() {\n    const uid = fire.auth().currentUser.uid;\n    const userName = prompt('Your name');\n    userName &&  (fire.database().ref('users/' + uid).update({user_name: userName}))\n    this.nameAndAvatar();      \n    };\n\n\nGreeting(){\n    return(\n        this.state.user_name && (<h1>Привіт, {this.state.user_name}</h1>)\n            )\n            }\n\n render() {\n\n    return (\n      <div style={{textAlign: 'center'}}>\n       {this.Greeting()}\n        <img style = {{maxHeight: '10vw', padding: '2vw'}} src= {this.state.avatar_link} />\n        <div><button style={{margin: '0.5vw'}} onClick = {this.logout}>Logout</button>\n        <button  style={{margin: '0.5vw'}} onClick = {this.setAvatarLink.bind(this)}>Change Avatar</button>\n        <button style={{margin: '0.5vw'}} onClick = {this.ChangeName.bind(this)}>What is your name?</button></div>\n      </div>\n    )\n  }\n}\n\n\nexport default Profile;"]},"metadata":{},"sourceType":"module"}