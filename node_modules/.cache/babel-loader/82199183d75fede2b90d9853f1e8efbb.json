{"ast":null,"code":"import _classCallCheck from\"/Users/sergey/Desktop/LinkUp_React_Final/my-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/sergey/Desktop/LinkUp_React_Final/my-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/sergey/Desktop/LinkUp_React_Final/my-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/sergey/Desktop/LinkUp_React_Final/my-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/sergey/Desktop/LinkUp_React_Final/my-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React from'react';import fire from'./config/Fire';import Login from'./Login.js';import axios from'axios';import{BrowserRouter,Route,Link}from\"react-router-dom\";import'./App.css';import ReactModal from'react-modal';import ArticleModal from'./ArticleModal.js';ReactModal.setAppElement('#root');var api=axios.create({baseURL:'https://api.nytimes.com/svc/mostpopular/v2/viewed/1.json?api-key=mN6Xg33Uh049lVc0uwErmOgdhb4TYBt4'});var Articles=/*#__PURE__*/function(_React$Component){_inherits(Articles,_React$Component);var _super=_createSuper(Articles);function Articles(props){var _this;_classCallCheck(this,Articles);_this=_super.call(this,props);_this.state={user:null,articles:[],title:null,url:null,modalIsOpen:false,link:'',description:'',date:'',showModal:false};_this.closeModal=function(value){_this.setState({link:value});};_this.getArticle=_this.getArticle.bind(_assertThisInitialized(_this));_this.authListener=_this.authListener.bind(_assertThisInitialized(_this));_this.ArticlesBody=_this.ArticlesBody.bind(_assertThisInitialized(_this));_this.Post=_this.Post.bind(_assertThisInitialized(_this));return _this;}_createClass(Articles,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;api.get().then(function(res){_this2.setState({articles:res.data.results});});this.authListener();}// authentification check\n},{key:\"authListener\",value:function authListener(){var _this3=this;fire.auth().onAuthStateChanged(function(user){if(user){_this3.setState({user:user});}else{_this3.setState({user:null});}});}},{key:\"getArticle\",value:function getArticle(){var _this4=this;//fetching data from API\nvar mediaArr=this.state.articles.map(function(article){return article.media[0]?/*#__PURE__*/_jsx(\"div\",{className:\"ArticleDiv\",style:{backgroundImage:'url('+article.media[0]['media-metadata'][2]['url']+')'},children:/*#__PURE__*/_jsx(\"div\",{className:\"textAlign\",children:/*#__PURE__*/_jsx(\"a\",{onClick:function onClick(){return _this4.state.user?_this4.setState({link:'/post',article_url:article.url,title:article.title,description:article.abstract,date:article.published_date,showModal:true,url:article.media[0]['media-metadata'][2]['url']}):_this4.setState({link:'/pleaselogin'});},children:article.title})})},article.title):console.log(\"error\");});mediaArr.map(function(content){return/*#__PURE__*/_jsx(\"div\",{children:content});});return mediaArr;}},{key:\"Post\",value:function Post(){var _this5=this;return/*#__PURE__*/ (// article window\n_jsx(ReactModal,{className:\"ModalWindow\",isOpen:this.state.showModal,onRequestClose:this.setModalClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"Modal_content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"ArticleTitle\",children:this.state.title}),/*#__PURE__*/_jsx(\"img\",{src:this.state.url}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"a\",{className:\"ArticleInfo\",children:this.state.description})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"a\",{className:\"ArticleInfo\",children:[\"\\u0414\\u0430\\u0442\\u0430 \\u043F\\u0443\\u043B\\u0456\\u043A\\u0430\\u0446\\u0456\\u0457: \",this.state.date]})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between'},children:[/*#__PURE__*/_jsx(\"a\",{className:\"ArticleInfo\",href:this.state.article_url,children:\"\\u041E\\u0440\\u0438\\u0433\\u0456\\u043D\\u0430\\u043B \\u0441\\u0442\\u0430\\u0442\\u0442\\u0456\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return _this5.setState({link:''});},children:\"\\u041D\\u0430 \\u0433\\u043E\\u043B\\u043E\\u0432\\u043D\\u0443\"})]})]})}));}},{key:\"ArticlesBody\",value:function ArticlesBody(){return/*#__PURE__*/_jsx(\"div\",{className:\"Content\",children:/*#__PURE__*/_jsx(\"div\",{className:\"ContentRaw\",children:this.getArticle()})});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"ArticlePage\",children:[this.state.link=='/pleaselogin'?/*#__PURE__*/_jsx(ArticleModal,{closeModal:this.closeModal}):console.log(this.state.link),this.state.link=='/post'?this.Post():console.log(this.state.link),this.ArticlesBody()]});}}]);return Articles;}(React.Component);export default Articles;","map":{"version":3,"sources":["/Users/sergey/Desktop/LinkUp_React_Final/my-app/src/Articles.js"],"names":["React","fire","Login","axios","BrowserRouter","Route","Link","ReactModal","ArticleModal","setAppElement","api","create","baseURL","Articles","props","state","user","articles","title","url","modalIsOpen","link","description","date","showModal","closeModal","value","setState","getArticle","bind","authListener","ArticlesBody","Post","get","then","res","data","results","auth","onAuthStateChanged","mediaArr","map","article","media","backgroundImage","article_url","abstract","published_date","console","log","content","setModalClose","display","justifyContent","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport fire from './config/Fire';\nimport Login from './Login.js';\nimport axios from 'axios';\nimport {BrowserRouter, Route, Link } from \"react-router-dom\";\nimport './App.css';\nimport ReactModal from 'react-modal';\nimport ArticleModal from './ArticleModal.js';\n\nReactModal.setAppElement('#root');\nconst api = axios.create({\n\tbaseURL: 'https://api.nytimes.com/svc/mostpopular/v2/viewed/1.json?api-key=mN6Xg33Uh049lVc0uwErmOgdhb4TYBt4'\n})\n\nclass Articles extends React.Component {\n\nstate = {\n\tuser: null,\n\tarticles: [],\n\ttitle: null,\n\turl: null,\n\tmodalIsOpen: false,\n\tlink: '',\n\tdescription: '',\n\tdate: '',\n    showModal: false\n}\n\nconstructor(props){\n\tsuper(props)\n\tthis.getArticle = this.getArticle.bind(this);\n\tthis.authListener = this.authListener.bind(this);\n\tthis.ArticlesBody = this.ArticlesBody.bind(this);\n\tthis.Post = this.Post.bind(this);\n}\n\ncomponentDidMount(){\n\tapi.get().then(res => {\n\t\tthis.setState({ articles: res.data.results,})\n\t})\n\tthis.authListener();\n}\n\n// authentification check\nauthListener() {\n\tfire.auth().onAuthStateChanged((user) => {\n\t\tif (user) {\n\t\t\tthis.setState({ user });\n\t\t} else {\n\t\t\tthis.setState({ user: null });\n\t\t}\n\t})\n}\n\n\n\n\ngetArticle(){ \n//fetching data from API\nconst mediaArr = this.state.articles.map(article => \n    article.media[0] ? \n\t(\n    <div className = 'ArticleDiv' style={{backgroundImage: 'url(' \n    + article.media[0]['media-metadata'][2]['url'] + ')' }} key={article.title}>\n    \t<div className = 'textAlign'><a onClick={\n    \t\t() => this.state.user ? (\n    \t\t\tthis.setState({\n    \t\t\tlink: '/post', \n    \t\t\tarticle_url: article.url, \n\t\t\t\ttitle: article.title, \n    \t\t\tdescription: article.abstract,\n    \t\t\tdate: article.published_date,\n                showModal: true,\n    \t\t\turl: article.media[0]['media-metadata'][2]['url']})) :\n    \t\t\t(this.setState({link: '/pleaselogin'}))\n                }>\n    \t\t{article.title}</a></div>\n    \t\t</div>) : (console.log(\"error\")) );\n    \t\tmediaArr.map(content => <div>{content}</div>);\n    \t\treturn mediaArr;\n    \t}\n\nPost () {\n    return (\n    // article window\n\n    <ReactModal className='ModalWindow' isOpen={this.state.showModal} onRequestClose={this.setModalClose}>\n    <div className = 'Modal_content'>\n    <div className='ArticleTitle'>{this.state.title}</div>\n    <img src={this.state.url}></img>\n    <div><a className='ArticleInfo'>{this.state.description}</a></div>\n    <div><a className='ArticleInfo'>Дата пулікації: {this.state.date}</a></div>\n    <div style={{display: 'flex', justifyContent: 'space-between'}}><a className='ArticleInfo' href={this.state.article_url}>Оригінал статті</a>\n    <button onClick={()=> this.setState({link: ''})}>На головну</button></div>\n    </div>\n    </ReactModal>\n    \t\t);\n    \t}\n\ncloseModal = (value) => {\n    this.setState({ link: value })\n}\n\nArticlesBody() {\n    return (\n        <div className=\"Content\">\n        <div className=\"ContentRaw\">{this.getArticle()}</div>\n        </div>\n        )\n}\n\nrender() {\n\treturn (\n\t<div className=\"ArticlePage\">\n\t{this.state.link == '/pleaselogin' ? (<ArticleModal closeModal={this.closeModal}/>) : (console.log(this.state.link))}\n\t{this.state.link == '/post' ? (this.Post()) : (console.log(this.state.link))}\n\t{this.ArticlesBody()}\n\t</div>\n\t   )\n    }\n}\n\nexport default Articles;"]},"metadata":{},"sourceType":"module"}