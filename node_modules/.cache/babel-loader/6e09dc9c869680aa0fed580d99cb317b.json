{"ast":null,"code":"import _slicedToArray from\"/Users/sergey/Desktop/LinkUp_React_Final/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _classCallCheck from\"/Users/sergey/Desktop/LinkUp_React_Final/my-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/sergey/Desktop/LinkUp_React_Final/my-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/sergey/Desktop/LinkUp_React_Final/my-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/sergey/Desktop/LinkUp_React_Final/my-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/sergey/Desktop/LinkUp_React_Final/my-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState,Component}from'react';import fire from'./config/Fire';import{BrowserRouter,Route,NavLink}from'react-router-dom';import'./App.css';var Dropdown=/*#__PURE__*/function(_React$Component){_inherits(Dropdown,_React$Component);var _super=_createSuper(Dropdown);function Dropdown(props){var _this;_classCallCheck(this,Dropdown);_this=_super.call(this,props);_this.pathToAvatar=_this.pathToAvatar.bind(_assertThisInitialized(_this));_this.state={avatar_link:_this.databaseAvatarLink};return _this;}//fetching avatar data from firebase\n_createClass(Dropdown,[{key:\"pathToAvatar\",value:function pathToAvatar(){var _this2=this;var userId=fire.auth().currentUser.uid;fire.database().ref('/users/'+userId).once('value').then(function(snapshot){var defaultAvatar='https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/React-icon.svg/1200px-React-icon.svg.png';var databaseAvatarLink=snapshot.val()&&snapshot.val().avatar_link;databaseAvatarLink?_this2.setState({avatar_link:databaseAvatarLink.toString()}):_this2.setState({avatar_link:defaultAvatar});});}},{key:\"componentDidMount\",value:function componentDidMount(){this.pathToAvatar();}},{key:\"render\",value:function render(){function logout(){fire.auth().signOut();}function Navbar(props){return/*#__PURE__*/_jsx(\"nav\",{className:\"navbar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"navbar-nav\",children:props.children})});}function App(props){return/*#__PURE__*/_jsx(Navbar,{children:/*#__PURE__*/_jsxs(NavItem,{icon:/*#__PURE__*/_jsx(\"img\",{className:\"Avatar\",src:props}),children:[/*#__PURE__*/_jsx(\"div\",{className:\"Login\",onClick:logout,children:\"Logout\"}),/*#__PURE__*/_jsx(NavLink,{to:\"/profile\",children:/*#__PURE__*/_jsx(\"div\",{className:\"Login\",children:\"Profile\"})})]})});}function NavItem(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];return/*#__PURE__*/_jsxs(\"a\",{className:\"icon-button\",onClick:function onClick(){return setOpen(!open);},children:[props.icon,open&&props.children]});}return/*#__PURE__*/_jsx(\"div\",{className:\"AvatarDiv\",children:App(this.state.avatar_link)});}}]);return Dropdown;}(React.Component);export default Dropdown;","map":{"version":3,"sources":["/Users/sergey/Desktop/LinkUp_React_Final/my-app/src/Dropdown.js"],"names":["React","useState","Component","fire","BrowserRouter","Route","NavLink","Dropdown","props","pathToAvatar","bind","state","avatar_link","databaseAvatarLink","userId","auth","currentUser","uid","database","ref","once","then","snapshot","defaultAvatar","val","setState","toString","logout","signOut","Navbar","children","App","NavItem","open","setOpen","icon"],"mappings":"o2BAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,IAAP,KAAiB,eAAjB,CACA,OAAQC,aAAR,CAAuBC,KAAvB,CAA8BC,OAA9B,KAA4C,kBAA5C,CACA,MAAO,WAAP,C,GAEMC,CAAAA,Q,gHAEN,kBAAYC,KAAZ,CAAmB,0CACjB,uBAAMA,KAAN,EACA,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB,CACA,MAAKC,KAAL,CAAa,CACbC,WAAW,CAAE,MAAKC,kBADL,CAAb,CAHiB,aAMlB,CAED;wEACc,iBACd,GAAMC,CAAAA,MAAM,CAAGX,IAAI,CAACY,IAAL,GAAYC,WAAZ,CAAwBC,GAAvC,CACAd,IAAI,CAACe,QAAL,GAAgBC,GAAhB,CAAoB,UAAYL,MAAhC,EAAwCM,IAAxC,CAA6C,OAA7C,EAAsDC,IAAtD,CAA2D,SAACC,QAAD,CAAc,CACzE,GAAMC,CAAAA,aAAa,CAAG,oGAAtB,CACA,GAAMV,CAAAA,kBAAkB,CAAIS,QAAQ,CAACE,GAAT,IAAkBF,QAAQ,CAACE,GAAT,GAAeZ,WAA7D,CACAC,kBAAkB,CAAI,MAAI,CAACY,QAAL,CAAc,CAACb,WAAW,CAAEC,kBAAkB,CAACa,QAAnB,EAAd,CAAd,CAAJ,CAAoE,MAAI,CAACD,QAAL,CAAc,CAACb,WAAW,CAAEW,aAAd,CAAd,CAAtF,CACG,CAJH,EAKC,C,6DAEkB,CACjB,KAAKd,YAAL,GACD,C,uCAEQ,CAET,QAAWkB,CAAAA,MAAX,EAAoB,CACpBxB,IAAI,CAACY,IAAL,GAAYa,OAAZ,GACC,CAED,QAASC,CAAAA,MAAT,CAAgBrB,KAAhB,CAAsB,CACtB,mBACE,YAAK,SAAS,CAAC,QAAf,uBACA,YAAK,SAAS,CAAC,YAAf,UAA8BA,KAAK,CAACsB,QAApC,EADA,EADF,CAKC,CAED,QAASC,CAAAA,GAAT,CAAavB,KAAb,CAAmB,CACnB,mBACE,KAAC,MAAD,wBACA,MAAC,OAAD,EAAS,IAAI,cAAE,YAAK,SAAS,CAAC,QAAf,CAAwB,GAAG,CAAGA,KAA9B,EAAf,wBACA,YAAK,SAAS,CAAC,OAAf,CAAuB,OAAO,CAAImB,MAAlC,oBADA,cAEA,KAAC,OAAD,EAAS,EAAE,CAAC,UAAZ,uBAAuB,YAAK,SAAS,CAAC,OAAf,qBAAvB,EAFA,GADA,EADF,CAQC,CAED,QAASK,CAAAA,OAAT,CAAiBxB,KAAjB,CAAuB,eACCP,QAAQ,CAAC,KAAD,CADT,wCAChBgC,IADgB,eACVC,OADU,eAEvB,mBAEA,WAAG,SAAS,CAAC,aAAb,CAA2B,OAAO,CAAI,yBAAKA,CAAAA,OAAO,CAAC,CAACD,IAAF,CAAZ,EAAtC,WACCzB,KAAK,CAAC2B,IADP,CAGCF,IAAI,EAAIzB,KAAK,CAACsB,QAHf,GAFA,CAQC,CAED,mBACA,YAAK,SAAS,CAAC,WAAf,UACCC,GAAG,CAAC,KAAKpB,KAAL,CAAWC,WAAZ,CADJ,EADA,CAKG,C,sBAlEoBZ,KAAK,CAACE,S,EAsE7B,cAAeK,CAAAA,QAAf","sourcesContent":["import React, { useState, Component } from 'react';\nimport fire from './config/Fire';\nimport {BrowserRouter, Route, NavLink} from 'react-router-dom';\nimport './App.css';\n\nclass Dropdown extends React.Component {\n\nconstructor(props) {\n  super(props);\n  this.pathToAvatar = this.pathToAvatar.bind(this);\n  this.state = {\n  avatar_link: this.databaseAvatarLink,\n  }; \n}\n\n//fetching avatar data from firebase\npathToAvatar(){\nconst userId = fire.auth().currentUser.uid;\nfire.database().ref('/users/' + userId).once('value').then((snapshot) => {\nconst defaultAvatar = 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/React-icon.svg/1200px-React-icon.svg.png'\nconst databaseAvatarLink = (snapshot.val() && snapshot.val().avatar_link); \ndatabaseAvatarLink ? (this.setState({avatar_link: databaseAvatarLink.toString()})) : (this.setState({avatar_link: defaultAvatar}));\n  });\n}\n\ncomponentDidMount(){\n  this.pathToAvatar();\n}\n\nrender() {\n\nfunction   logout() {\nfire.auth().signOut();\n}\n\nfunction Navbar(props){\nreturn(\n  <nav className=\"navbar\">\n  <div className=\"navbar-nav\">{ props.children }</div>\n  </nav>\n  )\n}\n\nfunction App(props){ \nreturn (\n  <Navbar>\n  <NavItem icon= <img className='Avatar' src= {props} />>\n  <div className='Login' onClick = {logout}>Logout</div>\n  <NavLink to='/profile'><div className='Login'>Profile</div></NavLink>\n  </NavItem>\n  </Navbar>\n  );\n}\n\nfunction NavItem(props){\nconst [open, setOpen] = useState(false);\nreturn(\n\n<a className=\"icon-button\" onClick = {()=> setOpen(!open)}>\n{props.icon}\n\n{open && props.children}\n</a>\n  )\n}\n\nreturn (\n<div className='AvatarDiv'>\n{App(this.state.avatar_link)}   \n</div>\n    )\n  }\n}\n\n\nexport default Dropdown;"]},"metadata":{},"sourceType":"module"}